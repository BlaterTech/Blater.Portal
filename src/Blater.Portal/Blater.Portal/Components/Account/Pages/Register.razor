@page "/Account/Register"

@inherits BaseAccount

<MudGrid Justify="Justify.Center">
    <MudItem xs="12" sm="12" md="8" lg="8" xl="8" xxl="8">
        <MudPaper Class="mud-width-full pa-8">
            <div class="d-flex align-center justify-center">
                <BlaterLogo/>
            </div>
            <div>
                <MudText Typo="@Typo.h4" Color="Color.Primary" Class="mb-6 mt-4">
                    Create your account
                </MudText>
            </div>
            <div class="d-flex flex-row align-start gap-2">
                <MudButton
                    StartIcon="@Custom.Brands.GitHub"
                    IconClass="px-2"
                    Class="d-flex justify-start align-center mud-width-full"
                    Size="Size.Medium"
                    Variant="Variant.Outlined">
                    Continue with GitHub
                </MudButton>
                <MudButton
                    StartIcon="@Custom.Brands.Google"
                    IconClass="px-2"
                    Class="d-flex justify-start align-center mud-width-full"
                    Size="Size.Medium"
                    Variant="Variant.Outlined">
                    Continue with Google
                </MudButton>
            </div>
            <div class="d-flex align-center mt-4" style="height: 50px;">
                <MudDivider Style="width: 30%"/>
                <MudText Typo="@Typo.subtitle1" Class="pa-4"> or </MudText>
                <MudDivider Style="width: 30%"/>
            </div>
            <EditForm
                Model="InputRegister"
                FormName="@nameof(InputRegister)"
                OnValidSubmit="OnValidRegisterSubmit">
                <DataAnnotationsValidator/>

                <BlaterTextInput
                    T="string"
                    @rendermode="InteractiveServer"
                    Label="Name"
                    Required="true"
                    RequiredError="Name is required"
                    Value="@InputRegister.Name"
                    ValueChanged="@(x => InputRegister.Name = x)"/>

                <BlaterTextInput
                    T="string"
                    @rendermode="InteractiveServer"
                    Label="Email"
                    Required="true"
                    RequiredError="Email is required"
                    InputType="InputType.Email"
                    Value="@InputRegister.Email"
                    ValueChanged="@(x => InputRegister.Email = x)"/>
                
                <BlaterPasswordInput
                    @rendermode="InteractiveServer"
                    Value="@InputRegister.Password"
                    ValueChanged="@(x => InputRegister.Password = x)"/>

                <BlaterPasswordInput
                    @rendermode="InteractiveServer"
                    Label="Confirm password"
                    Value="@InputRegister.ConfirmPassword"
                    ValueChanged="@(x => InputRegister.ConfirmPassword = x)"/>

                <div class="mt-8">
                    <MudButton
                        ButtonType="ButtonType.Submit"
                        Style="width: 100%"
                        Variant="Variant.Filled"
                        Color="Color.Primary">
                        Continue
                    </MudButton>
                </div>
            </EditForm>

            <div class="d-flex align-center">
                <MudText Typo="@Typo.subtitle1" Class="mt-6">
                    @("Have an account?")
                    <MudLink Href="/Account/Login">Sign in</MudLink>
                </MudText>
            </div>
        </MudPaper>
    </MudItem>
</MudGrid>